<Page x:Class="Desktop_VendingMachine.Pages.VendingMachinesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Desktop_VendingMachine.Pages"
	  xmlns:DM="http://materialdesigninxaml.net/winfx/xaml/themes"
      mc:Ignorable="d" 
      d:DesignHeight="815" d:DesignWidth="1200" IsVisibleChanged="Page_IsVisibleChanged"
      Title="VendingMachinesPage" Background="LightGray">

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="10*"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition Height="60"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Grid Background="#1d1d1d" Grid.ColumnSpan="3">
			<TextBlock Text="ООО Торговые автоматы" HorizontalAlignment="Left" Margin="10" FontSize="25" Foreground="WhiteSmoke"/>
			<TextBlock Text="Администрирование / Торговые автоматы" FontSize="18" Foreground="Gray" HorizontalAlignment="Right" Margin="10"/>
		</Grid>

		<Grid Grid.Row="1" Grid.Column="1" Margin="20" Background="White">
			<Grid.RowDefinitions>
				<RowDefinition Height="auto"/>
				<RowDefinition Height="auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="auto"/>
			</Grid.RowDefinitions>
			<Grid Background="#efefef">
				<Rectangle Fill="#00bbff" Height="1" VerticalAlignment="Top"/>
				<StackPanel HorizontalAlignment="Left" Margin="8">
					<TextBlock Text="Торговые автоматы" Foreground="#00bbff" FontSize="20" Margin="5" HorizontalAlignment="Left"/>
					<TextBlock x:Name="TBCount" Text="" FontSize="15" Margin="5" HorizontalAlignment="Left"/>
				</StackPanel>
			</Grid>

			<Grid Grid.Row="1">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>

				<StackPanel Margin="8" Orientation="Horizontal">
					<TextBlock Text="Показать" FontSize="15" Margin="5"/>
					<ComboBox Width="60" SelectedIndex="0" FontSize="15" Margin="5">
						<ComboBoxItem>
							<TextBlock Text="50" Foreground="#1d1d1d"/>
						</ComboBoxItem>
						<ComboBoxItem>
							<TextBlock Text="75" Foreground="#1d1d1d"/>
						</ComboBoxItem>
						<ComboBoxItem>
							<TextBlock Text="100" Foreground="#1d1d1d"/>
						</ComboBoxItem>
					</ComboBox>
					<TextBlock Text="записей" FontSize="15" Foreground="#1d1d1d" Margin="5"/>
				</StackPanel>

				<TextBox Grid.Column="1" Background="Transparent" BorderThickness="0.7" VerticalAlignment="Center"/>

				<StackPanel Orientation="Horizontal" Margin="8" HorizontalAlignment="Right" Grid.Column="2">
					<Button Margin="5" Background="Transparent" BorderThickness="0.7" Click="AddVB">
						<StackPanel Orientation="Horizontal">
							<DM:PackIcon Kind="Plus" Margin="5"/>
							<TextBlock Text="Добавить" Padding="5"/>
						</StackPanel>
					</Button>
					<Button Margin="5" Background="Transparent" BorderThickness="0.7">
						<StackPanel Orientation="Horizontal">
							<DM:PackIcon Kind="Share" Margin="5"/>
							<TextBlock Text="Экспорт" Padding="5"/>
						</StackPanel>
					</Button>
				</StackPanel>
			</Grid>

			<DataGrid Name="DGVendingMachines" Grid.Row="2" AutoGenerateColumns="False" IsReadOnly="True" RowBackground="White" AlternatingRowBackground="#efefef" RowHeaderWidth="0" HorizontalGridLinesBrush="Gray" VerticalGridLinesBrush="Transparent" Margin="10 0 10 0" Background="Transparent" BorderThickness="0">
				<DataGrid.Columns>
					<DataGridTemplateColumn Header="ID" Width="*">
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding serial_number}"/>
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
					<DataGridTemplateColumn Header="Название автомата"  Width="*">
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding name}" Foreground="#00bbff"/>
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
					<DataGridTemplateColumn Header="Модель" Width="*">
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding ModelsMachine.Model}"/>
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
					<DataGridTextColumn Header="Компания" Binding="{Binding Companies.company}" Width="*">
						<DataGridTextColumn.CellStyle>
							<Style TargetType="DataGridCell">
								<Setter Property="Foreground" Value="#00bbff"/>
							</Style>
						</DataGridTextColumn.CellStyle>
					</DataGridTextColumn>
					<DataGridTemplateColumn Header="Модем" Width="0.6*">
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding modem}"/>
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
					<DataGridTextColumn Header="Адресс / Место" Binding="{Binding location}" Width="*"/>
					<DataGridTemplateColumn Width="0.6*">
						<DataGridTemplateColumn.Header>
							<TextBlock Text="в работе с"/>
						</DataGridTemplateColumn.Header>
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding install_date, StringFormat=dd.mm.yyyy}"/>
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
					<DataGridTemplateColumn Header="Действия" Width="0.7*">
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
									<Image Source="/Resources/icons/blue/pencil.png" Width="20" Margin="2" MouseDown="Edit"/>
									<Image Source="/Resources/icons/blue/trash.png" Width="20" Margin="2" MouseDown="Delete"/>
									<Image Source="/Resources/icons/blue/unlock.png" Width="20" Margin="2"/>
								</StackPanel>
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
				</DataGrid.Columns>
			</DataGrid>
			<Rectangle Fill="#1d1d1d" Grid.Row="4" Height="1" VerticalAlignment="Top" Margin="10 0 10 30"/>
			<StackPanel Grid.Row="4" HorizontalAlignment="Right" Orientation="Horizontal" Margin="10">
				<Button Padding="5" Background="Transparent" Width="30" Click="pagePrev">
					<DM:PackIcon Kind="ChevronLeft"/>
				</Button>
				<Border BorderThickness="0.7" BorderBrush="#1d1d1d" Width="30" Background="#00bbff">
					<TextBlock Name="TBPage" Padding="5" Text="1" Foreground="White"/>
				</Border>
				<Button Padding="5" Background="Transparent" Width="30" Click="pageNext">
					<DM:PackIcon Kind="ChevronRight"/>
				</Button>
			</StackPanel>
			<TextBlock Name="TBSecondCount" Grid.Row="4" HorizontalAlignment="Left" Margin="10"/>
		</Grid>
	</Grid>
</Page>